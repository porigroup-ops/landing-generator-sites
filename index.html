
<!DOCTYPE html>
<html lang="fi">
<head>
  <meta charset="UTF-8" />
  <title>FIN15 ‚Äì √Ñlyk√§s nettisivugeneraattori</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    :root {
      --bg: #020617;
      --bg-card: #0f172a;
      --accent: #f97316;
      --accent-soft: rgba(249, 115, 22, 0.1);
      --text: #e5e7eb;
      --muted: #9ca3af;
      --error: #f97373;
      --success: #4ade80;
      --border: #1f2937;
      --radius: 16px;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #111827, #020617);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      justify-content: center;
    }

    .page {
      width: 100%;
      max-width: 1120px;
      padding: 32px 16px 64px;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
      gap: 16px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      font-size: 20px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .logo-mark {
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, #fed7aa, #f97316);
      box-shadow: 0 0 0 2px rgba(15,23,42,0.8), 0 18px 40px rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #020617;
      font-weight: 900;
      font-size: 16px;
    }

    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: 999px;
      font-size: 11px;
      background: var(--accent-soft);
      color: var(--accent);
      border: 1px solid rgba(248, 250, 252, 0.05);
    }

    .layout {
      display: grid;
      grid-template-columns: minmax(0, 1.3fr) minmax(0, 1fr);
      gap: 32px;
    }

    @media (max-width: 880px) {
      .layout {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .hero-card {
      background: radial-gradient(circle at top left, rgba(249,115,22,0.12), transparent),
                  var(--bg-card);
      border-radius: 28px;
      padding: 28px 24px;
      border: 1px solid rgba(15,23,42,0.9);
      box-shadow:
        0 24px 60px rgba(0,0,0,0.7),
        0 0 0 1px rgba(148,163,184,0.15);
      position: relative;
      overflow: hidden;
    }

    .hero-card::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 120% -20%, rgba(96,165,250,0.28), transparent);
      opacity: 0.9;
      pointer-events: none;
    }

    .hero-card > * { position: relative; z-index: 1; }

    h1 {
      font-size: clamp(32px, 4vw, 40px);
      margin: 8px 0 12px;
    }

    h1 span {
      background: linear-gradient(120deg, #f97316, #fde68a);
      -webkit-background-clip: text;
      color: transparent;
    }

    .lead {
      color: var(--muted);
      line-height: 1.6;
      font-size: 15px;
      max-width: 480px;
    }

    .hero-kpi-row {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-top: 20px;
    }

    .kpi {
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(148,163,184,0.35);
      font-size: 12px;
      display: inline-flex;
      gap: 8px;
      align-items: center;
      backdrop-filter: blur(18px);
      background: linear-gradient(135deg, rgba(15,23,42,0.9), rgba(15,23,42,0.5));
      color: #e5e7eb;
    }

    .kpi strong { font-weight: 600; }

    .pill-dot {
      width: 7px; height: 7px;
      border-radius: 999px;
      background: #22c55e;
      box-shadow: 0 0 0 6px rgba(34,197,94,0.25);
    }

    .steps {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 12px;
      margin-top: 26px;
      font-size: 13px;
      color: var(--muted);
    }

    .step {
      padding: 12px 12px;
      border-radius: 16px;
      border: 1px dashed rgba(148,163,184,0.5);
      background: rgba(15,23,42,0.8);
    }

    .step-title {
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: #e5e7eb;
      margin-bottom: 6px;
    }

    .step-num {
      font-size: 11px;
      opacity: 0.7;
    }

    /* Lomakekortti */
    .form-card {
      background: rgba(15,23,42,0.98);
      border-radius: 24px;
      padding: 20px 20px 22px;
      border: 1px solid rgba(31,41,55,1);
      box-shadow: 0 18px 40px rgba(0,0,0,0.85);
      backdrop-filter: blur(18px);
    }

    .form-title {
      font-size: 17px;
      margin: 0 0 6px;
    }

    .form-sub {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 16px;
    }

    form {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px 12px;
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 5px;
      font-size: 12px;
    }

    .field.full {
      grid-column: 1 / -1;
    }

    label span {
      color: #9ca3af;
      font-weight: 500;
    }

    label small {
      color: #6b7280;
      font-size: 11px;
    }

    input, textarea, select {
      background: #020617;
      border-radius: 11px;
      border: 1px solid var(--border);
      padding: 7px 10px;
      color: var(--text);
      font-size: 13px;
      outline: none;
      transition: border-color 0.15s, box-shadow 0.15s, background 0.15s;
    }

    input:focus, textarea:focus, select:focus {
      border-color: var(--accent);
      box-shadow: 0 0 0 1px rgba(249,115,22,0.35);
      background: #020617;
    }

    textarea {
      min-height: 70px;
      resize: vertical;
    }

    input[type="color"] {
      padding: 0;
      height: 32px;
      cursor: pointer;
    }

    .hint {
      font-size: 10px;
      color: #6b7280;
    }

    .submit-row {
      display: flex;
      gap: 12px;
      align-items: center;
      margin-top: 4px;
    }

    button[type="submit"] {
      border: none;
      border-radius: 999px;
      padding: 9px 20px;
      font-weight: 600;
      font-size: 13px;
      cursor: pointer;
      background: linear-gradient(135deg, #f97316, #facc15);
      color: #111827;
      box-shadow:
        0 14px 30px rgba(0,0,0,0.7),
        0 0 0 1px rgba(248,250,252,0.07);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: transform 0.08s ease, box-shadow 0.08s ease, filter 0.1s;
    }

    button[type="submit"]:hover {
      transform: translateY(-1px);
      filter: brightness(1.05);
      box-shadow:
        0 18px 40px rgba(0,0,0,0.9),
        0 0 0 1px rgba(248,250,252,0.12);
    }

    button[type="submit"]:disabled {
      opacity: 0.6;
      cursor: wait;
      transform: none;
      box-shadow: 0 10px 20px rgba(0,0,0,0.6);
    }

    .spinner {
      border: 2px solid rgba(15,23,42,0.0);
      border-top-color: #111827;
      border-left-color: #111827;
      border-radius: 999px;
      width: 16px;
      height: 16px;
      animation: spin 0.7s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .status {
      font-size: 11px;
      color: var(--muted);
    }

    .status.success { color: var(--success); }
    .status.error   { color: var(--error); }

    .result-link {
      margin-top: 6px;
      font-size: 11px;
    }

    .result-link a {
      color: #bfdbfe;
      text-decoration: none;
    }

    .result-link a:hover { text-decoration: underline; }

    footer {
      margin-top: 24px;
      font-size: 11px;
      color: #6b7280;
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 8px;
    }
  </style>
</head>

<body>
  <main class="page">
    <header>
      <div class="logo">
        <div class="logo-mark">F</div>
        <div>FIN15</div>
      </div>
      <div class="badge">
        <span class="pill-dot"></span>
        15 minuutissa luonnos yrityksesi uusista sivuista
      </div>
    </header>

    <section class="layout">
      <!-- ==================== HERO CARD ==================== -->
      <section class="hero-card">
        <p class="badge">Automaattinen FIN15-generaattori</p>

        <h1>
          Luo <span>uudet nettisivut</span> automaattisesti, kunhan t√§yt√§t lomakkeen.
        </h1>

        <p class="lead">
          FIN15 nappaa yrityksesi perustiedot, generoi modernin etusivun, lataa sen GitHubiin,
          julkaisee Netlifyyn ja tallentaa kaiken FIN15 CRM -j√§rjestelm√§√§n ‚Äì t√§ysin automaattisesti.
        </p>

        <div class="hero-kpi-row">
          <div class="kpi">
            <span class="pill-dot"></span>
            <span><strong>GitHub & Netlify</strong> kytketty valmiiksi</span>
          </div>

          <div class="kpi">
            ‚ö° <strong>n8n-automaatio</strong> generoi sivun & kuvat
          </div>

          <div class="kpi">
            üìä <strong>Airtable CRM</strong> tallentaa liidin
          </div>
        </div>

        <div class="steps">
          <div class="step">
            <div class="step-title">
              <span class="step-num">1/3</span> Sy√∂t√§ yrityksen tiedot
            </div>
            <div>Yrityksen nimi, toimiala, palvelut, v√§ri ja tyyli ‚Äì vain t√§rkeimm√§t kent√§t.</div>
          </div>

          <div class="step">
            <div class="step-title">
              <span class="step-num">2/3</span> FIN15 generoi sivun
            </div>
            <div>AI tuottaa tekstin, hero-kuvan ja HTML-rungon Fin-tyyliin.</div>
          </div>

          <div class="step">
            <div class="step-title">
              <span class="step-num">3/3</span> Saat linkin luonnokseen
            </div>
            <div>Sivu julkaistaan automaattisesti & n√§et linkin heti t√§ss√§ n√§kym√§ss√§.</div>
          </div>
        </div>
      </section>

      <!-- ==================== FORM CARD ==================== -->
      <section class="form-card">
        <h2 class="form-title">K√§ynnist√§ FIN15-generaattori</h2>
        <p class="form-sub">
          T√§yt√§ yrityksen perustiedot. Saat hetken kuluttua linkin automaattisesti luotuun
          FIN15-landing-sivuun.
        </p>

<form id="fin15-form">

  <!-- Piilotettu template -->
  <input type="hidden" name="template_id" value="business-classic" />

  <!-- YRITYKSEN TIEDOT -->
  <div class="field full">
    <label><span>Yrityksen nimi *</span></label>
    <input type="text" name="business_name" required />
  </div>

  <div class="field">
    <label><span>Toimiala *</span></label>
    <input type="text" name="industry" required />
  </div>

  <div class="field">
    <label><span>S√§hk√∂posti *</span></label>
    <input type="email" name="email" required />
  </div>

  <div class="field">
    <label><span>Puhelin *</span></label>
    <input type="tel" name="phone" required />
  </div>

  <div class="field">
    <label><span>Toimipaikka (kaupunki / alue) *</span></label>
    <input type="text" name="address" required />
  </div>

  <div class="field full">
    <label><span>Lyhyt kuvaus *</span></label>
    <textarea name="description_short" required></textarea>
  </div>

  <div class="field full">
    <label><span>Pidempi kuvaus (valinnainen)</span></label>
    <textarea name="description_long"></textarea>
  </div>

  <!-- PALVELUT -->
  <div class="field full">
    <label><span>Palvelut *</span><br><small>Yksi palvelu per rivi</small></label>
    <textarea name="services_raw" placeholder="Kotisiivous&#10;Ikkunanpesu&#10;Muuttosiivous" required></textarea>
  </div>

  <!-- ULKOASU -->
  <div class="field">
    <label><span>P√§√§v√§ri</span></label>
    <input type="color" name="primary_color" value="#f97316" />
  </div>

  <div class="field">
    <label><span>Korostev√§ri</span></label>
    <input type="color" name="accent_color" value="#22c55e" />
  </div>

  <div class="field">
    <label><span>Teema</span></label>
    <select name="theme">
      <option value="dark" selected>Tumma</option>
      <option value="light">Vaalea</option>
    </select>
  </div>

  <!-- HINNASTO (VALINNAINEN) -->
  <div class="field full">
    <label>
      <input type="checkbox" name="show_pricing" value="true" />
      <span>N√§yt√§ hinnasto sivulla</span>
    </label>
  </div>

  <div class="field">
    <label><span>Palvelu 1 ‚Äì nimi</span></label>
    <input type="text" name="pricing[0][name]" />
  </div>
  <div class="field">
    <label><span>Palvelu 1 ‚Äì hinta</span></label>
    <input type="text" name="pricing[0][price]" />
  </div>

  <div class="field full">
    <label><span>Palvelu 1 ‚Äì lis√§tiedot</span></label>
    <input type="text" name="pricing[0][details]" />
  </div>

  <!-- EXISTING WEBSITE -->
  <div class="field full">
    <label>
      <input type="checkbox" name="has_existing_site" value="true" />
      <span>Minulla on jo nettisivu ‚Äì hae tietoja automaattisesti</span>
    </label>
  </div>

  <div class="field full">
    <label><span>Nykyinen sivu (URL)</span></label>
    <input type="url" name="existing_url" placeholder="https://yritys.fi" />
  </div>

  <!-- DOMAIN -->
  <div class="field full">
    <label><span>Haluttu domain (valinnainen)</span></label>
    <input type="text" name="desired_domain" placeholder="yritys.fi" />
  </div>

  <!-- SUBMIT -->
  <div class="field full">
    <div class="submit-row">
      <button type="submit">
        <span>Luo FIN15-sivu</span>
        <div class="spinner" id="spinner" style="display:none;"></div>
      </button>
      <div class="status" id="status-text">
        T√§yt√§ kent√§t ja k√§ynnist√§ generaattori.
      </div>
    </div>
    <div class="result-link" id="result-link"></div>
  </div>

</form>

  <!-- ==================== JAVASCRIPT ==================== -->

  <script>
    const form = document.getElementById('fin15-form');
    const statusEl = document.getElementById('status-text');
    const resultEl = document.getElementById('result-link');
    const spinner = document.getElementById('spinner');

    /* üî• VAIHDA T√ÑH√ÑN OIKEA N8N PRODUCTION WEBHOOK URL: */
    const WEBHOOK_URL = "https://pg1.app.n8n.cloud/webhook/generate-site";

    form.addEventListener('submit', async (event) => {
      event.preventDefault();
      resultEl.textContent = '';

      const data = new FormData(form);
      const business_name = data.get('business_name')?.trim();
      const industry      = data.get('industry')?.trim();
      const description   = data.get('description')?.trim();
      const servicesRaw   = data.get('services') || '';
      const email         = data.get('email')?.trim();
      const phone         = data.get('phone')?.trim();
      const address       = data.get('address')?.trim();
      const tone          = data.get('tone') || 'modern minimalistic';
      const primary_color = data.get('primary_color') || '#f97316';

      const services = servicesRaw
        .split(/\r?\n/)
        .map(s => s.trim())
        .filter(Boolean);

      const payload = {
        business_name,
        industry,
        description,
        services,
        email,
        phone,
        address,
        tone,
        primary_color,
      };

      try {
        statusEl.textContent = 'Luodaan FIN15-sivua‚Ä¶ T√§m√§ kest√§√§ tyypillisesti 10‚Äì60 sekuntia.';
        statusEl.className = 'status';
        spinner.style.display = 'inline-block';
        form.querySelector('button[type="submit"]').disabled = true;

        const res = await fetch(WEBHOOK_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(payload),
        });

        if (!res.ok) {
          throw new Error('Virhe: ' + res.status);
        }

        const json = await res.json();

        statusEl.textContent = 'Valmis! FIN15-sivu on luotu ja julkaistu.';
        statusEl.className = 'status success';

        if (json.pageUrl || json.pageurl || json.page_url) {
          const url = json.pageUrl || json.pageurl || json.page_url;

          resultEl.innerHTML =
            'Katso luotu sivu: <a href="' + url + '" target="_blank" rel="noopener noreferrer">' +
            url +
            '</a>';
        }
      } catch (err) {
        console.error(err);
        statusEl.textContent = 'Virhe sivun luonnissa. Kokeile hetken kuluttua uudestaan.';
        statusEl.className = 'status error';
      } finally {
        spinner.style.display = 'none';
        form.querySelector('button[type="submit"]').disabled = false;
      }
    });
  </script>

</body>
</html>
